<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>9 Debugging</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/mn.html)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/mn.html)"> 
<!-- html,2 --> 
<meta name="src" content="tpg.tex"> 
<meta name="date" content="2005-03-01 21:58:00"> 
<link rel="stylesheet" type="text/css" href="tpg.css"> 
</head><body 
>
   <!--l. 109--><div class="crosslinks"><p class="noindent">[<a 
href="tpgch8.html" >prev</a>] [<a 
href="tpgch8.html#tailtpgch8.html" >prev-tail</a>] [<a 
href="#tailtpgch9.html">tail</a>] [<a 
href="tpgpa2.html#tpgch9.html" >up</a>] </p></div>
   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;9</span><br><a 
 id="x22-790009"></a>Debugging</h2>
   <h3 class="sectionHead"><span class="titlemark">9.1   </span> <a 
 id="x22-800009.1"></a>Introduction</h3>
<!--l. 3--><p class="noindent">When I need to debug a grammar I often add print statments to visualize the parser activity. Now with
TPG 3 it is possible to print such information automatically.
<!--l. 6--><p class="noindent">
   <h3 class="sectionHead"><span class="titlemark">9.2   </span> <a 
 id="x22-810009.2"></a>Verbose parsers</h3>
<!--l. 8--><p class="noindent">Normal parsers inherit from <span 
class="cmti-10">tpg.Parser</span>. If you need a more verbose parser you can use <span 
class="cmti-10">tpg.VerboseParser</span>
instead. This parser prints information about the current token each time the lexer is called. The
debugging information has currently two level of details.
     <dl class="description"><dt class="description">
<span 
class="cmbx-10">Level 0</span> </dt><dd 
class="description">displays no information.
     </dd><dt class="description">
<span 
class="cmbx-10">Level 1</span> </dt><dd 
class="description">displays tokens only when the current token matches the expected token.
     </dd><dt class="description">
<span 
class="cmbx-10">Level 2</span> </dt><dd 
class="description">displays tokens if the current token matches or not the expected token.</dd></dl>
<!--l. 19--><p class="indent">   The level is defined by the attribute <span 
class="cmti-10">verbose</span>. Its default value is 1.
<!--l. 21--><p class="indent">   <hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                 

                                                                                 
<a 
 id="x22-810011"></a>
                                                                                 

                                                                                 
   <div class="tabular"><table class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
frame="border" id="TBL-28-" ><colgroup id="TBL-28-1g"><col 
id="TBL-28-1"></colgroup><tr 
class="hline"><td><hr></td></tr><tr  
 valign="baseline" id="TBL-28-1-"><td  style="text-align:left;" id="TBL-28-1-1"  
class="td11"><br> <table class="caption" 
><tr valign="baseline" class="caption"><td class="id">Figure&#x00A0;9.1: </td><td  
class="content">Verbose parser example</td></tr></table><!--tex4ht:label?: x22-810011 -->
<table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
class&#x00A0;Test(tpg.VerboseParser):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;r"""
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;START&#x00A0;-&gt;&#x00A0;'x'&#x00A0;'y'&#x00A0;'z'&#x00A0;;
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;verbose&#x00A0;=&#x00A0;2
</div>
</td></tr></table>
<!--l. 32--><p class="nopar">                                                                                 </td>
</tr><tr 
class="hline"><td><hr></td></tr><tr  
 valign="baseline" id="TBL-28-2-"><td  style="text-align:left;" id="TBL-28-2-1"  
class="td11">                                                                                                                               </td> </tr></table>
</div>
                                                                                 

                                                                                 
<!--l. 33--><p class="indent">   </td></tr></table></div><hr class="endfigure">
<!--l. 35--><p class="indent">   The information displayed by verbose parsers has the following format:
                                                                                 

                                                                                 
   <table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
[eat&#x00A0;counter][stack&#x00A0;depth]callers:&#x00A0;(line,row)&#x00A0;&lt;current&#x00A0;token&gt;&#x00A0;==&#x00A0;&lt;expected&#x00A0;token&gt;
</div>
</td></tr></table>
<!--l. 38--><p class="nopar">
     <dl class="description"><dt class="description">
<span 
class="cmmi-10">eatcounter</span> </dt><dd 
class="description">is the number of calls of the lexer.
     </dd><dt class="description">
<span 
class="cmmi-10">stackdepth</span> </dt><dd 
class="description">is the depth of the Python stack since the axiom.
     </dd><dt class="description">
<span 
class="cmmi-10">callers</span> </dt><dd 
class="description">is the list of non terminal symbols called before the current symbol.
     </dd><dt class="description">
(<span 
class="cmmi-10">line,row</span>) </dt><dd 
class="description">is the position of the current token in the input string.
     </dd><dt class="description">
== </dt><dd 
class="description">means the current token matches the expected token (level 1 or 2).
     </dd><dt class="description">
! = </dt><dd 
class="description">means the current token doesn&#8217;t match the expected token (level 2).</dd></dl>
                                                                                 

                                                                                 
                                                                                 

                                                                                 
   <!--l. 113--><div class="crosslinks"><p class="noindent">[<a 
href="tpgch8.html" >prev</a>] [<a 
href="tpgch8.html#tailtpgch8.html" >prev-tail</a>] [<a 
href="tpgch9.html" >front</a>] [<a 
href="tpgpa2.html#tpgch9.html" >up</a>] </p></div>
<!--l. 113--><p class="indent">   <a 
 id="tailtpgch9.html"></a>   
</body></html> 
