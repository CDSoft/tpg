<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>5 Grammar structure</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cis.ohio-state.edu/~gurari/TeX4ht/mn.html)"> 
<meta name="originator" content="TeX4ht (http://www.cis.ohio-state.edu/~gurari/TeX4ht/mn.html)"> 
<!-- html,2 --> 
<meta name="src" content="tpg.tex"> 
<meta name="date" content="2004-06-16 22:22:00"> 
<link rel="stylesheet" type="text/css" href="tpg.css"> 
</head><body 
>
   <div class="crosslinks"><p class="noindent">[<a 
href="tpgch6.html" >next</a>] [<a 
href="tpgch4.html" >prev</a>] [<a 
href="tpgch4.html#tailtpgch4.html" >prev-tail</a>] [<a 
href="#tailtpgch5.html">tail</a>] [<a 
href="tpgpa2.html#tpgch5.html" >up</a>] </p></div>
   <h2 class="chapterHead"><span class="titlemark">Chapter&nbsp;5</span><br><a 
  id="x17-240005"></a>Grammar structure</h2>
   <h3 class="sectionHead"><span class="titlemark">5.1   </span> <a 
  id="x17-250005.1"></a>TPG grammar structure</h3>
<!--l. 3--><p class="noindent">TPG grammars are contained in the doc string of the parser class. TPG grammars may contain three
parts:
     <dl class="description"><dt class="description">
<span 
class="cmbx-10">Options</span> </dt><dd 
class="description">are defined at the beginning of the grammar (see&nbsp; <a 
href="#x17-270005.3">5.3<!--tex4ht:ref: grammar:options --></a>).
     </dd><dt class="description">
<span 
class="cmbx-10">Tokens</span> </dt><dd 
class="description">are introduced by the <span 
class="cmti-10">token </span>or <span 
class="cmti-10">separator </span>keyword (see&nbsp; <a 
href="tpgch6.html#x18-390006.2">6.2<!--tex4ht:ref: lexer:token_def --></a>).
     </dd><dt class="description">
<span 
class="cmbx-10">Rules</span> </dt><dd 
class="description">are described after tokens (see&nbsp; <a 
href="#x17-340005.5">5.5<!--tex4ht:ref: grammar:parser --></a>).</dd></dl>
<!--l. 15--><p class="indent">   See figure&nbsp; <a 
href="#x17-250011">5.1<!--tex4ht:ref: grammar:struct --></a> for a generic TPG grammar.
<!--l. 17--><p class="indent">   <hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                 

                                                                                 
<a 
  id="x17-250011"></a>
                                                                                 

                                                                                 
   <div class="tabular"><table class="tabular" 
cellspacing="0pt" cellpadding="0" rules="groups" 
frame="border" id="TBL-13-" ><colgroup id="TBL-13-1g"><col 
id="TBL-13-1"></colgroup><tr 
class="hline"><td><hr></td></tr><tr  
 valign="baseline" id="TBL-13-1-"><td  align="left" id="TBL-13-1-1"  
class="td11"><br> <table class="caption" 
><tr valign="baseline" class="caption"><td class="id">Figure&nbsp;5.1: </td><td  
class="content">TPG grammar structure</td></tr></table><!--tex4ht:label?: x17-250011 -->
<table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
class&nbsp;Foo(tpg.Parser):
&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;r&#34;&#34;&#34;
&nbsp;<br />
&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Options
&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;lexer&nbsp;=&nbsp;CSL
&nbsp;<br />
&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Tokens
&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;separator&nbsp;spaces&nbsp;&nbsp;&nbsp;&nbsp;'\s+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;token&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'\d+'&nbsp;&nbsp;&nbsp;int&nbsp;;
&nbsp;<br />
&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Rules
&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;START&nbsp;-&gt;&nbsp;X&nbsp;Y&nbsp;Z&nbsp;;
&nbsp;<br />
&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&#34;&#34;&#34;
&nbsp;<br />
&nbsp;<br />foo&nbsp;=&nbsp;Foo()
&nbsp;<br />result&nbsp;=&nbsp;foo(&#34;input&nbsp;string&#34;)
</div>
</td></tr></table>                                                                                 </td>
</tr><tr 
class="hline"><td><hr></td></tr><tr  
 valign="baseline" id="TBL-13-2-"><td  align="left" id="TBL-13-2-1"  
class="td11">                                                                                                                               </td> </tr></table>
</div>
<!--l. 38--><p class="nopar">
                                                                                 

                                                                                 
   </td></tr></table></div><hr class="endfigure">
<!--l. 38--><p class="nopar">
   <h3 class="sectionHead"><span class="titlemark">5.2   </span> <a 
  id="x17-260005.2"></a>Comments</h3>
<!--l. 42--><p class="noindent">Comments in TPG start with <span 
class="cmti-10"># </span>and run until the end of the line.
                                                                                 

                                                                                 
   <table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;This&nbsp;is&nbsp;a&nbsp;comment
</div>
   </td></tr></table>
<!--l. 48--><p class="noindent">
   <h3 class="sectionHead"><span class="titlemark">5.3   </span> <a 
  id="x17-270005.3"></a>Options</h3>
<!--l. 50--><p class="noindent">Some options can be set at the beginning of TPG grammars. The syntax for options is:
     <dl class="description"><dt class="description">
<span 
class="cmbx-10">set </span><span 
class="cmbxti-10">name </span><span 
class="cmbx-10">= </span><span 
class="cmmi-10">value</span> </dt><dd 
class="description">sets the <span 
class="cmti-10">name </span>option to <span 
class="cmmi-10">value</span>.</dd></dl>
<!--l. 57--><p class="noindent">
   <h4 class="subsectionHead"><span class="titlemark">5.3.1   </span> <a 
  id="x17-280005.3.1"></a>Lexer option</h4>
<!--l. 59--><p class="noindent">The <span 
class="cmti-10">lexer </span>option tells TPG which lexer to use.
     <dl class="description"><dt class="description">
<span 
class="cmbx-10">set lexer = NamedGroupLexer</span> </dt><dd 
class="description">is the default lexer. It is context free and uses named groups
     of the <span 
class="cmti-10">sre </span>package (and its limitation of 100 named groups, ie 100 tokens).
     </dd><dt class="description">
<span 
class="cmbx-10">set lexer = Lexer</span> </dt><dd 
class="description">is similar to <span 
class="cmti-10">NamedGroupLexer </span>but doesn&#8217;t use named groups. It is slower
     than <span 
class="cmti-10">NamedGroupLexer</span>.
     </dd><dt class="description">
<span 
class="cmbx-10">set lexer = CacheNamedGroupLexer</span> </dt><dd 
class="description">is similar to <span 
class="cmti-10">NamedGroupLexer </span>except that tokens are
     first stored in a list. It is faster for heavy backtracking grammars.
     </dd><dt class="description">
<span 
class="cmbx-10">set lexer = CacheLexer</span> </dt><dd 
class="description">is similar to <span 
class="cmti-10">Lexer </span>except that tokens are first stored in a list. It is
     faster for heavy backtracking grammar.
     </dd><dt class="description">
<span 
class="cmbx-10">set lexer = ContextSensitiveLexer</span> </dt><dd 
class="description">is the context sensitive lexer (see&nbsp; <a 
href="tpgch8.html#x21-700008">8<!--tex4ht:ref: tpg:CSL --></a>).</dd></dl>
<!--l. 73--><p class="noindent">
   <h4 class="subsectionHead"><span class="titlemark">5.3.2   </span> <a 
  id="x17-290005.3.2"></a>Word bondary option</h4>
<!--l. 75--><p class="noindent">The <span 
class="cmti-10">word</span><span 
class="cmti-10">_boundary </span>options tells the lexer to search for word boundaries after identifiers.
     <dl class="description"><dt class="description">
<span 
class="cmbx-10">set word</span><span 
class="cmbx-10">_boundary = True</span> </dt><dd 
class="description">enables the word boundary search. This is the default.
     </dd><dt class="description">
<span 
class="cmbx-10">set word</span><span 
class="cmbx-10">_boundary = False</span> </dt><dd 
class="description">disables the word boundary search.</dd></dl>
                                                                                 

                                                                                 
<!--l. 82--><p class="noindent">
   <h4 class="subsectionHead"><span class="titlemark">5.3.3   </span> <a 
  id="x17-300005.3.3"></a>Regular expression options</h4>
<!--l. 84--><p class="noindent">The <span 
class="cmti-10">sre </span>module accepts some options to define the behaviour of the compiled regular expressions. These
options can be changed for each parser.
     <dl class="description"><dt class="description">
<span 
class="cmbx-10">set lexer</span><span 
class="cmbx-10">_ignorecase = True</span> </dt><dd 
class="description">enables the <span 
class="cmti-10">re.IGNORECASE </span>option.
     </dd><dt class="description">
<span 
class="cmbx-10">set lexer</span><span 
class="cmbx-10">_locale = True</span> </dt><dd 
class="description">enables the <span 
class="cmti-10">re.LOCALE </span>option.
     </dd><dt class="description">
<span 
class="cmbx-10">set lexer</span><span 
class="cmbx-10">_multiline = True</span> </dt><dd 
class="description">enables the <span 
class="cmti-10">re.MULTILINE </span>option.
     </dd><dt class="description">
<span 
class="cmbx-10">set lexer</span><span 
class="cmbx-10">_dotall = True</span> </dt><dd 
class="description">enables the <span 
class="cmti-10">re.DOTALL </span>option.
     </dd><dt class="description">
<span 
class="cmbx-10">set lexer</span><span 
class="cmbx-10">_verbose = True</span> </dt><dd 
class="description">enables the <span 
class="cmti-10">re.VERBOSE </span>option.
     </dd><dt class="description">
<span 
class="cmbx-10">set lexer</span><span 
class="cmbx-10">_unicode = True</span> </dt><dd 
class="description">enables the <span 
class="cmti-10">re.UNICODE </span>option.</dd></dl>
<!--l. 96--><p class="noindent">
   <h3 class="sectionHead"><span class="titlemark">5.4   </span> <a 
  id="x17-310005.4"></a>Python code</h3>
<!--l. 98--><p class="noindent">Python code section are not handled by TPG. TPG won&#8217;t complain about syntax errors in
Python code sections, it is Python&#8217;s job. They are copied verbatim to the generated Python
parser.
<!--l. 102--><p class="noindent">
   <h4 class="subsectionHead"><span class="titlemark">5.4.1   </span> <a 
  id="x17-320005.4.1"></a>Syntax</h4>
<!--l. 104--><p class="noindent">Before TPG 3, Python code is enclosed in double curly brackets. That means that Python code must not
contain to consecutive close brackets. You can avoid this by writting <span 
class="cmsy-10">}</span><span 
class="cmti-10">&nbsp;</span><span 
class="cmsy-10">} </span>(with a space) instead of <span 
class="cmsy-10">}}</span>
(without space). This syntaxe is still available but the new syntax may be more readable. The new
syntax uses <span 
class="cmsl-10">$ </span>to delimit code sections. When several <span 
class="cmsl-10">$ </span>sections are consecutive they are seen as a single
section.
<!--l. 111--><p class="noindent">
   <h4 class="subsectionHead"><span class="titlemark">5.4.2   </span> <a 
  id="x17-330005.4.2"></a>Indentation</h4>
<!--l. 113--><p class="noindent">Python code can appear in several parts of a grammar. Since indentation has a special meaning in
Python it is important to know how TPG handles spaces and tabulations at the beginning of the
lines.
<!--l. 116--><p class="indent">   When TPG encounters some Python code it removes in all non blank lines the spaces and tabulations
that are common to every lines. TPG considers spaces and tabulations as the same character so it is
important to always use the same indentation style. Thus it is advised not to mix spaces and tabulations
in indentation. Then this code will be reindented when generated according to its location (in a class, in
a method or in global space).
<!--l. 121--><p class="indent">   The figure&nbsp; <a 
href="#x17-330012">5.2<!--tex4ht:ref: grammar:indent --></a> shows how TPG handles indentation.
<!--l. 123--><p class="indent">   <hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                 

                                                                                 
<a 
  id="x17-330012"></a>
                                                                                 

                                                                                 
<div class="center" 
>
<br> <table class="caption" 
><tr valign="baseline" class="caption"><td class="id">Figure&nbsp;5.2: </td><td  
class="content">Code indentation examples</td></tr></table><!--tex4ht:label?: x17-330012 -->
<div class="tabular"><table class="tabular" 
cellspacing="0pt" cellpadding="0" rules="groups" 
frame="border" id="TBL-14-" ><colgroup id="TBL-14-1g"><col 
id="TBL-14-1"></colgroup><colgroup id="TBL-14-2g"><col 
id="TBL-14-2"></colgroup><colgroup id="TBL-14-3g"><col 
id="TBL-14-3"></colgroup><colgroup id="TBL-14-4g"><col 
id="TBL-14-4"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 valign="baseline" id="TBL-14-1-"><td  align="left" id="TBL-14-1-1"  
class="td11"><!--l. 127--><p class="noindent">Code in grammars (old
syntax)                    </td><td  align="left" id="TBL-14-1-2"  
class="td11"><!--l. 127--><p class="noindent">Code    in    grammars
(new syntax)             </td><td  align="left" id="TBL-14-1-3"  
class="td11"><!--l. 127--><p class="noindent">Generated code     </td><td  align="left" id="TBL-14-1-4"  
class="td11"><!--l. 127--><p class="noindent">Comment             </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 valign="baseline" id="TBL-14-2-"><td  align="left" id="TBL-14-2-1"  
class="td11"><table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
{{
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />if<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />1==2:
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;???&#34;
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />else:
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;OK&#34;
&nbsp;<br />}}
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />
</div>
</td></tr></table>                   </td><td  align="left" id="TBL-14-2-2"  
class="td11"><table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
&nbsp;<br />$<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />if<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />1==2:
&nbsp;<br />$<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;???&#34;
&nbsp;<br />$<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />else:
&nbsp;<br />$<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;OK&#34;
&nbsp;<br />
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />
</div>
</td></tr></table>                   </td><td  align="left" id="TBL-14-2-3"  
class="td11"><table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
&nbsp;<br />if<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />1==2:
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;???&#34;
&nbsp;<br />else:
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;OK&#34;
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />
</div>
</td></tr></table>                </td><td  align="left" id="TBL-14-2-4"  
class="td11"><!--l. 157--><p class="noindent"><span 
class="cmti-10">Correct</span>: these lines
have   four   spaces
in  common.  These
spaces are removed.</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 valign="baseline" id="TBL-14-3-"><td  align="left" id="TBL-14-3-1"  
class="td11"><table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
{{<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />if<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />1==2:
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;???&#34;
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />else:
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;OK&#34;
&nbsp;<br />}}
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />
</div>
</td></tr></table>                   </td><td  align="left" id="TBL-14-3-2"  
class="td11"><!--l. 170--><p class="noindent">The new syntax has no
trouble in that case.   </td><td  align="left" id="TBL-14-3-3"  
class="td11"><table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
if<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />1==2:
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;???&#34;
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />else:
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;OK&#34;
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />
</div>
</td></tr></table>                </td><td  align="left" id="TBL-14-3-4"  
class="td11"><!--l. 179--><p class="noindent"><span 
class="cmti-10">WRONG</span>: it&#8217;s a bad
idea
to start a multiline
code section on the
first  line  since  the
common
indentation may be
different from what
you
expect.   No   error
will  be  raised  by
TPG  but  Python
won&#8217;t  compile  this
code.                   </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 valign="baseline" id="TBL-14-4-"><td  align="left" id="TBL-14-4-1"  
class="td11"><table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
{{<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;OK&#34;<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />}}
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />
</div>
</td></tr></table>                   </td><td  align="left" id="TBL-14-4-2"  
class="td11"><table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
$<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;OK&#34;
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />
</div>
</td></tr></table>or
<table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
$<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;OK&#34;<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />$
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />
</div>
</td></tr></table>                   </td><td  align="left" id="TBL-14-4-3"  
class="td11"><table width="100%" 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
print<img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />&#34;OK&#34;
&nbsp;<br /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" /><img 
src="cmtt10-20.png" alt="_" class="10x-x-20" />
</div>
</td></tr></table>                </td><td  align="left" id="TBL-14-4-4"  
class="td11"><!--l. 200--><p class="noindent"><span 
class="cmti-10">Correct</span>:
indentation     does
not matter in a one
line Python code.   </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 valign="baseline" id="TBL-14-5-"><td  align="left" id="TBL-14-5-1"  
class="td11">                              </td>
</tr></table></div>
<!--l. 205--><p class="nopar"> </div>
<!--l. 206--><p class="nopar">
                                                                                 

                                                                                 
   </td></tr></table></div><hr class="endfigure">
<!--l. 206--><p class="nopar">
   <h3 class="sectionHead"><span class="titlemark">5.5   </span> <a 
  id="x17-340005.5"></a>TPG parsers</h3>
<!--l. 210--><p class="noindent">TPG parsers are <span 
class="cmti-10">tpg.Parser </span>classes. The grammar is the doc string of the class.
<!--l. 213--><p class="noindent">
   <h4 class="subsectionHead"><span class="titlemark">5.5.1   </span> <a 
  id="x17-350005.5.1"></a>Methods</h4>
<!--l. 215--><p class="noindent">As TPG parsers are just Python classes, you can use them as normal classes. If you redefine the <span 
class="cmti-10">_</span><span 
class="cmti-10">_init</span><span 
class="cmti-10">_</span><span 
class="cmti-10">_</span>
method, don&#8217;t forget to call <span 
class="cmti-10">tpg.Parser.</span><span 
class="cmti-10">_</span><span 
class="cmti-10">_init</span><span 
class="cmti-10">_</span><span 
class="cmti-10">_</span>.
<!--l. 218--><p class="noindent">
   <h4 class="subsectionHead"><span class="titlemark">5.5.2   </span> <a 
  id="x17-360005.5.2"></a>Rules</h4>
<!--l. 220--><p class="noindent">Each rule will be translated into a method of the parser.
                                                                                 

                                                                                 
   <div class="crosslinks"><p class="noindent">[<a 
href="tpgch6.html" >next</a>] [<a 
href="tpgch4.html" >prev</a>] [<a 
href="tpgch4.html#tailtpgch4.html" >prev-tail</a>] [<a 
href="tpgch5.html" >front</a>] [<a 
href="tpgpa2.html#tpgch5.html" >up</a>] </p></div>
<!--l. 103--><p class="indent">   <a 
  id="tailtpgch5.html"></a>    
</body></html> 
